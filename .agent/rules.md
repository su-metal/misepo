# プロジェクト開発ルール

このドキュメントは、AIアシスタントが本プロジェクトのコードを改修する際に守るべき「鉄則」を定義します。

## 1. 言語設定
- **全ての回答およびコミュニケーションは、常に「日本語」で行うこと。** 英語での返答や解説は禁止です。

## 2. 実装の安全保護（改修の制限）
- **UIとロジックの分離**: 「UIの見た目だけを変える」というタスクにおいて、内部の計算ロジック、正規化処理、AIプロンプト定義（特に `geminiService.ts` 等）を勝手に書き換えたり、削除したりしてはならない。
- **既存機能の保全**: 新しいレイアウトを導入する際、既存の `props` や `state` を「不要」と独断して削除してはならない。削除が必要な場合は、全ファイルから参照箇所を検索し、影響がないことをユーザーに証明した上で承認を得ること。
- **多機能性の重視**: シンプルさを優先するあまり、ユーザーが意図して用意した入力項目（例：マップの★評価、補足情報など）を削減してはならない。

## 3. 開発フロー
- **計画の承認**: 重大なリファクタリングやロジック変更を伴う場合は、事前に `implementation_plan.md` で範囲を明示し、ユーザーの承認を得ること。承認されていない範囲に手を加えないこと。
- **変更理由の明文化**: なぜその変更が必要なのか、UIの変更がどこまで影響するのかを常に論理的に説明すること。

## 4. プロンプトの聖域
- システムに定数として定義されているプロンプト文字列（`GMAP_PURPOSE_PROMPTS` 等）は、生成品質に直結するため、ユーザーの依頼なく「スッキリさせる」などの理由で短縮・変質させてはならない。
